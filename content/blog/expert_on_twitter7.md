+++
author = "Larissa"
categories = ["Python"]
tags = ["network-analysis", "twitter", "expert", "spring2017", "jupyter-notebook", "topology"]
date = "2016-05-19"
description = "Finding Experts in the Structure of the Twitter7 Following/Follower Network"
featured = "76531_2_ego_2.png"
featuredpath = "date"
linktitle = ""
title = "Identifying Experts"
type = "post"
+++

```python
import networkx as nx
import pylab as plt
import math
```

## EXPERT below


```python
g = nx.read_edgelist("C:\\Users\\laris\\Desktop\\www_twitter7_results\\reply.txt", create_using=nx.DiGraph())
```


```python
def dict_sort(cent_dict, pos):
    # Create ordered tuple of centrality data
    cent_items=[(b,a) for (a,b) in cent_dict.items()]
    # Sort in descending order
    cent_items.sort()
    cent_items.reverse()
    return tuple(reversed(cent_items[0:pos]))
```


```python
#nx.draw(g)
```


```python
#nx.is_connected(g)
```


```python
#sorted(nx.degree(g).values(), reverse=True)
# geht super!
```


```python
#sorted(nx.degree(g), reverse=True)
# geht auch!
```


```python
g.number_of_edges()
#g.edges()
```




    32523




```python
g.number_of_nodes()
#g.nodes()
```




    38918




```python
#g.graph
```


```python
#sorted(g.out_degree(), reverse=True)
```


```python
#sorted(g.out_degree().values(), reverse=True)
```


```python
#udg = nx.Graph(g)
#nx.connected_components(udg)
```


```python
#from collections import Counter

#in_degrees = g.in_degree() # dictionary node:degree
#in_values = sorted(set(in_degrees.values()))
#in_hist = Counter(in_degrees.values())

#out_degrees = g.out_degree() # dictionary node:degree
#out_values = sorted(set(out_degrees.values()))
#out_hist = Counter(out_degrees.values())

#plt.figure()
#plt.plot(in_values, in_hist, 'ro-') # in-degree
#plt.plot(out_values, out_hist, 'bv-') # out-degree
#plt.legend(['In-degree','Out-degree'])
#plt.xlabel('Degree')
#plt.ylabel('Number of nodes')
#plt.title('TEST')
#plt.savefig('hartford_degree_distribution.pdf')
#plt.close()
```


```python
#print(nx.clustering(udg))
#ccs = nx.clustering(udg)
#avg_clust = sum(ccs.values()) / len(ccs)
#print(avg_clust)
```


```python
#betw_cent = nx.betweenness_centrality(g, normalized=True)
# was ist hier los?
```


```python
#print(dict_sort(betw_cent, 9))
# geht erst wenn line vorher geht
```


```python
#clos_cent = nx.closeness_centrality(g, normalized=True)
#--> print dauert sehr lange, wo liegt das problem?
```


```python
#print(dict_sort(clos_cent, 9))
```


```python
#eige_cent = nx.eigenvector_centrality(g)
```


```python
#print(dict_sort(eige_cent, 9))
```


```python
#g.number_of_selfloops()
```


```python
#print(dict_sort(g.degree(), 9))
```


```python
#g.remove_edges_from(g.selfloop_edges())
#cores = nx.find_cores(g)
#print(dict_sort(cores, 20))
# geht, aber veraendert mir das network :/
```


```python
#ccs = nx.connected_component_subgraphs(udg)
#nx.diamter(ccs)
# geht seltsamerweise nicht ??
```


```python
def plot_degree_distribution(): 
    degs = {} 
    for n in g.nodes(): 
        deg = g.degree(n) 
        if deg not in degs: 
            degs[deg] = 0 
        degs[deg] += 1 
    items = sorted(degs.items())
    items = sorted(degs.items()) 
    fig = plt.figure() 
    ax = fig.add_subplot(111) 
    ax.plot([k for (k,v) in items], [v for (k, v) in items]) 
    ax.set_xscale('log') 
    ax.set_yscale('log') 
    plt.title("Higgs Network Reply Degree Distribution") 
    fig.savefig("degree_distribution.png")

#plot_degree_distribution()
```


```python
def plot_indegree_distribution(): 
    degs = {} 
    for n in g.nodes(): 
        deg = g.in_degree(n) 
        if deg not in degs: 
            degs[deg] = 0 
        degs[deg] += 1 
    items = sorted(degs.items())
    items = sorted(degs.items()) 
    fig = plt.figure() 
    ax = fig.add_subplot(111) 
    ax.plot([k for (k,v) in items], [v for (k, v) in items]) 
    ax.set_xscale('log') 
    ax.set_yscale('log') 
    plt.title("Higgs Network Reply In-Degree Distribution") 
    fig.savefig("INdegree_distribution.png")

#plot_indegree_distribution()
```


```python
def plot_outdegree_distribution(): 
    degs = {} 
    for n in g.nodes(): 
        deg = g.out_degree(n) 
        if deg not in degs: 
            degs[deg] = 0 
        degs[deg] += 1 
    items = sorted(degs.items())
    items = sorted(degs.items()) 
    fig = plt.figure() 
    ax = fig.add_subplot(111) 
    ax.plot([k for (k,v) in items], [v for (k, v) in items]) 
    ax.set_xscale('log') 
    ax.set_yscale('log') 
    plt.title("Higgs Network Reply Out-Degree Distribution") 
    fig.savefig("OUTdegree_distribution.png")

#plot_outdegree_distribution()
```

## Identification of an EXPERT


```python
# identification of an expert
outdeg = g.out_degree() #answers
indeg = g.in_degree() #questions

zscore = {}
for key in outdeg:
    zscore[key] = int((outdeg[key] - ((indeg[key] + outdeg[key]) / 2)) / math.sqrt((outdeg[key] + indeg[key]) / 2))
print(dict_sort(zscore, 1800)) #alles was positiv ist

#diff = {}
#for key in outdeg:
#    diff[key] = int(outdeg[key] - indeg[key])
#print(dict_sort(diff, 200))

#aver = 0
#for key in outdeg:
#    aver = aver + outdeg[key]
#aver = aver / g.number_of_nodes()
#norm = {}
#for key in outdeg:
#    norm[key] = (outdeg[key] / aver)
#print(norm, 200)
```

    ((0, 452637), (0, 452733), (0, 452735), (0, 452743), (0, 452773), (0, 452792), (0, 452805), (0, 452824), (0, 452833), (0, 452899), (0, 452920), (0, 452926), (0, 453018), (0, 453101), (0, 453115), (0, 453118), (0, 453133), (0, 453158), (0, 453165), (0, 453194), (0, 453210), (0, 453252), (0, 453256), (0, 453268), (0, 453295), (0, 453311), (0, 453313), (0, 453338), (0, 453348), (0, 453364), (0, 453395), (0, 453430), (0, 453451), (0, 453461), (0, 453485), (0, 453500), (0, 453534), (0, 453569), (0, 453573), (0, 453601), (0, 453729), (0, 453735), (0, 453754), (0, 453850), (0, 453866), (0, 453879), (0, 453885), (0, 453890), (0, 453973), (0, 454012), (0, 454026), (0, 454066), (0, 454069), (0, 454081), (0, 454108), (0, 454144), (0, 454161), (0, 454231), (0, 454235), (0, 454255), (0, 454278), (0, 454298), (0, 454352), (0, 454364), (0, 454374), (0, 454396), (0, 454397), (0, 454401), (0, 454426), (0, 454435), (0, 454489), (0, 454515), (0, 454538), (0, 454554), (0, 454620), (0, 454664), (0, 454672), (0, 454712), (0, 454721), (0, 454724), (0, 454743), (0, 454784), (0, 454850), (0, 454877), (0, 454951), (0, 455024), (0, 455030), (0, 455031), (0, 455034), (0, 455040), (0, 455041), (0, 455071), (0, 455081), (0, 455109), (0, 455117), (0, 455120), (0, 455162), (0, 455169), (0, 455174), (0, 455194), (0, 455199), (0, 455252), (0, 455274), (0, 455276), (0, 455297), (0, 455330), (0, 455339), (0, 455341), (0, 455413), (0, 455429), (0, 455470), (0, 455528), (0, 455535), (0, 455624), (0, 455774), (0, 455777), (0, 455804), (0, 455834), (0, 455839), (0, 455848), (0, 455925), (0, 455958), (0, 456011), (0, 456022), (0, 456095), (0, 456111), (0, 456153), (0, 456172), (0, 456183), (0, 456220), (0, 456232), (0, 456287), (0, 456326), (0, 456336), (0, 456368), (0, 456411), (0, 456414), (0, 456421), (0, 456449), (0, 456456), (0, 456497), (0, 456499), (0, 456511), (0, 456517), (0, 456525), (0, 456542), (0, 456546), (0, 456554), (0, 456558), (0, 456561), (0, 456568), (0, 456573), (0, 456574), (0, 456580), (0, 456581), (0, 456592), (0, 456602), (0, 456611), (1, 486), (1, 556), (1, 625), (1, 698), (1, 769), (1, 1058), (1, 1152), (1, 1308), (1, 2135), (1, 2178), (1, 2181), (1, 2201), (1, 2520), (1, 2527), (1, 2576), (1, 2899), (1, 3255), (1, 3733), (1, 3784), (1, 3794), (1, 3814), (1, 3885), (1, 4186), (1, 4398), (1, 4493), (1, 4520), (1, 4554), (1, 4559), (1, 4564), (1, 4572), (1, 4927), (1, 4987), (1, 4993), (1, 4996), (1, 5123), (1, 5281), (1, 5282), (1, 5406), (1, 5891), (1, 6150), (1, 6176), (1, 6435), (1, 6531), (1, 6669), (1, 6671), (1, 6700), (1, 6707), (1, 6757), (1, 6759), (1, 6789), (1, 6854), (1, 6982), (1, 7134), (1, 7137), (1, 7149), (1, 7185), (1, 7244), (1, 7807), (1, 7878), (1, 8123), (1, 8193), (1, 8374), (1, 8522), (1, 8644), (1, 8855), (1, 8950), (1, 9185), (1, 9217), (1, 9235), (1, 9304), (1, 9330), (1, 9513), (1, 9647), (1, 9679), (1, 9696), (1, 9932), (1, 9941), (1, 9942), (1, 10091), (1, 10119), (1, 10190), (1, 10217), (1, 10381), (1, 10411), (1, 10596), (1, 10765), (1, 10789), (1, 10878), (1, 10879), (1, 10880), (1, 11223), (1, 11596), (1, 11660), (1, 12038), (1, 12369), (1, 12732), (1, 12745), (1, 12815), (1, 12888), (1, 12945), (1, 13144), (1, 13374), (1, 13700), (1, 13776), (1, 13804), (1, 13918), (1, 14205), (1, 14236), (1, 14251), (1, 14568), (1, 14660), (1, 14794), (1, 15133), (1, 15179), (1, 15294), (1, 15310), (1, 15456), (1, 15508), (1, 15691), (1, 16002), (1, 16141), (1, 16365), (1, 16401), (1, 16522), (1, 16571), (1, 16945), (1, 16990), (1, 17039), (1, 17058), (1, 17413), (1, 17527), (1, 17640), (1, 17647), (1, 17939), (1, 18076), (1, 18269), (1, 18490), (1, 18740), (1, 18921), (1, 19697), (1, 19890), (1, 20047), (1, 20161), (1, 20479), (1, 20923), (1, 20971), (1, 21236), (1, 21267), (1, 21409), (1, 21455), (1, 21587), (1, 21596), (1, 21796), (1, 21925), (1, 22206), (1, 22221), (1, 22377), (1, 22429), (1, 22539), (1, 22794), (1, 22805), (1, 22977), (1, 22997), (1, 23098), (1, 23214), (1, 23351), (1, 23358), (1, 23425), (1, 23567), (1, 23892), (1, 23940), (1, 23949), (1, 23975), (1, 25083), (1, 25091), (1, 25179), (1, 25258), (1, 25483), (1, 25524), (1, 25821), (1, 25886), (1, 25955), (1, 26334), (1, 26629), (1, 26668), (1, 26677), (1, 26681), (1, 26754), (1, 26800), (1, 27036), (1, 27089), (1, 27135), (1, 27256), (1, 27328), (1, 27381), (1, 27530), (1, 27564), (1, 27627), (1, 27848), (1, 27983), (1, 28438), (1, 28587), (1, 28861), (1, 29021), (1, 29032), (1, 29135), (1, 29209), (1, 29280), (1, 29315), (1, 29351), (1, 29417), (1, 29462), (1, 29467), (1, 29519), (1, 29651), (1, 29685), (1, 30069), (1, 30103), (1, 30227), (1, 30480), (1, 30579), (1, 30611), (1, 30887), (1, 30950), (1, 31084), (1, 31136), (1, 31188), (1, 31372), (1, 31529), (1, 31624), (1, 31823), (1, 31855), (1, 31992), (1, 32088), (1, 32117), (1, 32127), (1, 32132), (1, 32204), (1, 32293), (1, 32586), (1, 32592), (1, 32849), (1, 33205), (1, 33288), (1, 33713), (1, 33795), (1, 33970), (1, 34002), (1, 34287), (1, 34389), (1, 34421), (1, 34555), (1, 34838), (1, 34905), (1, 34921), (1, 34963), (1, 35128), (1, 35375), (1, 35389), (1, 35501), (1, 35586), (1, 35604), (1, 36093), (1, 36490), (1, 36509), (1, 36686), (1, 36694), (1, 36905), (1, 37216), (1, 37276), (1, 37724), (1, 37742), (1, 37753), (1, 37803), (1, 37833), (1, 38559), (1, 38871), (1, 39090), (1, 39096), (1, 39100), (1, 39299), (1, 39371), (1, 39464), (1, 39486), (1, 39583), (1, 39675), (1, 39828), (1, 39911), (1, 40067), (1, 40135), (1, 40228), (1, 40249), (1, 40383), (1, 40765), (1, 40838), (1, 41068), (1, 41146), (1, 41190), (1, 41203), (1, 41227), (1, 41561), (1, 41725), (1, 41960), (1, 42046), (1, 42069), (1, 42172), (1, 42205), (1, 42236), (1, 42245), (1, 42386), (1, 42475), (1, 42598), (1, 42715), (1, 42729), (1, 42909), (1, 42984), (1, 43210), (1, 43276), (1, 43415), (1, 43435), (1, 43442), (1, 43720), (1, 44292), (1, 44304), (1, 44344), (1, 44469), (1, 44483), (1, 44759), (1, 44954), (1, 45098), (1, 45202), (1, 45386), (1, 45419), (1, 45422), (1, 45463), (1, 45577), (1, 46014), (1, 46058), (1, 46445), (1, 46710), (1, 47192), (1, 47210), (1, 47248), (1, 47291), (1, 47347), (1, 47482), (1, 47506), (1, 47596), (1, 48084), (1, 48259), (1, 48265), (1, 48403), (1, 48419), (1, 48556), (1, 48756), (1, 48961), (1, 49407), (1, 49478), (1, 49685), (1, 49830), (1, 49896), (1, 49974), (1, 50097), (1, 50103), (1, 50185), (1, 50242), (1, 50286), (1, 50328), (1, 50405), (1, 50408), (1, 50531), (1, 50742), (1, 51071), (1, 51135), (1, 51288), (1, 51289), (1, 51310), (1, 51376), (1, 51648), (1, 51806), (1, 51849), (1, 52171), (1, 52238), (1, 52288), (1, 52293), (1, 52631), (1, 52655), (1, 52905), (1, 52940), (1, 53321), (1, 53542), (1, 53962), (1, 53964), (1, 53968), (1, 54320), (1, 54351), (1, 54920), (1, 54966), (1, 55171), (1, 55804), (1, 55926), (1, 56303), (1, 56329), (1, 56948), (1, 57136), (1, 57155), (1, 57167), (1, 57496), (1, 57521), (1, 57764), (1, 57963), (1, 58021), (1, 58074), (1, 58147), (1, 58164), (1, 58183), (1, 58343), (1, 58532), (1, 58737), (1, 58864), (1, 58935), (1, 59186), (1, 59424), (1, 59636), (1, 59736), (1, 60146), (1, 60283), (1, 60635), (1, 60854), (1, 61145), (1, 61331), (1, 61527), (1, 61847), (1, 61884), (1, 61971), (1, 61975), (1, 62139), (1, 62191), (1, 62439), (1, 62446), (1, 62470), (1, 62558), (1, 62791), (1, 63049), (1, 63114), (1, 63259), (1, 63353), (1, 63513), (1, 63552), (1, 63764), (1, 63765), (1, 64589), (1, 64682), (1, 64987), (1, 65000), (1, 65008), (1, 65159), (1, 65317), (1, 65754), (1, 66077), (1, 66279), (1, 66287), (1, 66473), (1, 66750), (1, 66811), (1, 67087), (1, 67210), (1, 67507), (1, 68883), (1, 68912), (1, 69028), (1, 69127), (1, 69159), (1, 69556), (1, 69559), (1, 69581), (1, 69611), (1, 69746), (1, 70013), (1, 70121), (1, 70271), (1, 70275), (1, 70430), (1, 70591), (1, 70711), (1, 71207), (1, 71311), (1, 71395), (1, 71744), (1, 71838), (1, 72143), (1, 72548), (1, 72814), (1, 72991), (1, 73060), (1, 74036), (1, 74079), (1, 74268), (1, 74469), (1, 75563), (1, 75734), (1, 75798), (1, 76017), (1, 76176), (1, 76312), (1, 76417), (1, 76567), (1, 76605), (1, 76803), (1, 76835), (1, 76844), (1, 77254), (1, 77279), (1, 77562), (1, 77727), (1, 77866), (1, 77882), (1, 78540), (1, 78580), (1, 78591), (1, 78701), (1, 78962), (1, 79133), (1, 79184), (1, 79194), (1, 79251), (1, 79321), (1, 79521), (1, 79601), (1, 79644), (1, 79885), (1, 79990), (1, 80009), (1, 80084), (1, 80491), (1, 80612), (1, 81073), (1, 81105), (1, 81207), (1, 81422), (1, 81563), (1, 81596), (1, 81602), (1, 81674), (1, 81678), (1, 81947), (1, 82322), (1, 82436), (1, 83354), (1, 83356), (1, 83640), (1, 83695), (1, 83827), (1, 84164), (1, 84395), (1, 84533), (1, 84546), (1, 84923), (1, 85017), (1, 85080), (1, 85140), (1, 85165), (1, 85739), (1, 85802), (1, 85886), (1, 85965), (1, 85968), (1, 86002), (1, 86625), (1, 86783), (1, 86825), (1, 86903), (1, 87072), (1, 87392), (1, 87638), (1, 87805), (1, 87810), (1, 87875), (1, 88271), (1, 88287), (1, 88355), (1, 88391), (1, 88410), (1, 88480), (1, 88671), (1, 88697), (1, 88711), (1, 88901), (1, 89594), (1, 89709), (1, 90374), (1, 90752), (1, 90804), (1, 91054), (1, 91122), (1, 91165), (1, 91627), (1, 91837), (1, 92225), (1, 92273), (1, 92384), (1, 92538), (1, 92584), (1, 92592), (1, 92809), (1, 93009), (1, 93062), (1, 93097), (1, 93182), (1, 93256), (1, 93279), (1, 93283), (1, 93323), (1, 93343), (1, 93379), (1, 93751), (1, 94023), (1, 94267), (1, 94436), (1, 94553), (1, 94952), (1, 95017), (1, 95027), (1, 95122), (1, 95141), (1, 95397), (1, 95422), (1, 95493), (1, 95553), (1, 95585), (1, 95603), (1, 95670), (1, 95742), (1, 95836), (1, 95881), (1, 96181), (1, 96270), (1, 96775), (1, 97129), (1, 97180), (1, 97566), (1, 97573), (1, 97923), (1, 98017), (1, 98762), (1, 98947), (1, 99231), (1, 99741), (1, 100037), (1, 100289), (1, 100411), (1, 100556), (1, 100583), (1, 100785), (1, 101238), (1, 101291), (1, 101845), (1, 101873), (1, 102301), (1, 102324), (1, 102377), (1, 102394), (1, 102406), (1, 102477), (1, 102679), (1, 102938), (1, 102956), (1, 103293), (1, 103418), (1, 103442), (1, 103532), (1, 103986), (1, 104049), (1, 104057), (1, 104281), (1, 104537), (1, 104543), (1, 104816), (1, 105229), (1, 105360), (1, 105561), (1, 105814), (1, 105956), (1, 106226), (1, 106857), (1, 106879), (1, 107185), (1, 107402), (1, 107481), (1, 107507), (1, 107712), (1, 107829), (1, 107914), (1, 108383), (1, 108391), (1, 108614), (1, 108730), (1, 109175), (1, 109377), (1, 109520), (1, 109872), (1, 109909), (1, 109929), (1, 109974), (1, 110149), (1, 110363), (1, 110370), (1, 110434), (1, 110447), (1, 110451), (1, 110522), (1, 110677), (1, 110717), (1, 110808), (1, 110873), (1, 111444), (1, 111494), (1, 111570), (1, 111726), (1, 113126), (1, 113142), (1, 113316), (1, 113577), (1, 114149), (1, 114273), (1, 114432), (1, 114515), (1, 114610), (1, 114970), (1, 114982), (1, 115074), (1, 115089), (1, 115196), (1, 115228), (1, 115384), (1, 115920), (1, 116247), (1, 116388), (1, 116701), (1, 116778), (1, 116846), (1, 117016), (1, 117243), (1, 117427), (1, 117437), (1, 117439), (1, 117488), (1, 117782), (1, 117931), (1, 118081), (1, 118093), (1, 118210), (1, 118304), (1, 118365), (1, 118513), (1, 118619), (1, 119435), (1, 119701), (1, 120477), (1, 120684), (1, 120736), (1, 120764), (1, 121422), (1, 121428), (1, 121477), (1, 121505), (1, 122175), (1, 122356), (1, 122809), (1, 122888), (1, 122939), (1, 123417), (1, 123444), (1, 123505), (1, 123628), (1, 123923), (1, 123942), (1, 124110), (1, 124925), (1, 125178), (1, 125279), (1, 125465), (1, 125491), (1, 125613), (1, 125748), (1, 126113), (1, 126275), (1, 126348), (1, 126458), (1, 126728), (1, 126875), (1, 127401), (1, 127405), (1, 127518), (1, 127627), (1, 127755), (1, 128223), (1, 128240), (1, 128491), (1, 128623), (1, 128668), (1, 128773), (1, 129489), (1, 129751), (1, 129909), (1, 130336), (1, 130449), (1, 130840), (1, 131500), (1, 131566), (1, 131591), (1, 131829), (1, 132019), (1, 132180), (1, 132304), (1, 132399), (1, 132521), (1, 132751), (1, 132820), (1, 132857), (1, 133145), (1, 133192), (1, 133580), (1, 133710), (1, 133868), (1, 134148), (1, 134304), (1, 134477), (1, 134505), (1, 134576), (1, 134627), (1, 135163), (1, 135170), (1, 135186), (1, 135320), (1, 135369), (1, 136072), (1, 136309), (1, 136479), (1, 136625), (1, 136688), (1, 136750), (1, 136897), (1, 137405), (1, 137863), (1, 138040), (1, 138106), (1, 138231), (1, 138277), (1, 138395), (1, 138461), (1, 138603), (1, 138614), (1, 138746), (1, 138795), (1, 139311), (1, 139450), (1, 139713), (1, 139878), (1, 139890), (1, 140089), (1, 140242), (1, 140402), (1, 141905), (1, 142013), (1, 142050), (1, 142076), (1, 142147), (1, 142495), (1, 142543), (1, 142572), (1, 142678), (1, 142927), (1, 143104), (1, 143543), (1, 143898), (1, 144176), (1, 144655), (1, 145315), (1, 145624), (1, 146161), (1, 146276), (1, 147485), (1, 147753), (1, 147803), (1, 148118), (1, 148228), (1, 148316), (1, 148738), (1, 149073), (1, 149261), (1, 149327), (1, 149443), (1, 149794), (1, 149831), (1, 150032), (1, 150627), (1, 150743), (1, 152062), (1, 152297), (1, 152309), (1, 152516), (1, 152579), (1, 152620), (1, 152755), (1, 152834), (1, 152942), (1, 153402), (1, 153984), (1, 154068), (1, 154193), (1, 154581), (1, 154627), (1, 154857), (1, 155541), (1, 155937), (1, 156735), (1, 156843), (1, 156927), (1, 157331), (1, 157620), (1, 157837), (1, 157937), (1, 158092), (1, 158167), (1, 158551), (1, 158615), (1, 159150), (1, 159231), (1, 159771), (1, 160068), (1, 160417), (1, 160910), (1, 160989), (1, 161580), (1, 161743), (1, 161839), (1, 162152), (1, 162381), (1, 162528), (1, 162629), (1, 162863), (1, 163175), (1, 163525), (1, 163885), (1, 164743), (1, 164749), (1, 164884), (1, 164891), (1, 164933), (1, 165111), (1, 165136), (1, 165276), (1, 165681), (1, 165916), (1, 165970), (1, 166257), (1, 166451), (1, 167072), (1, 167140), (1, 167472), (1, 168481), (1, 168651), (1, 169187), (1, 169255), (1, 169368), (1, 169565), (1, 170103), (1, 170211), (1, 170689), (1, 171191), (1, 171457), (1, 171617), (1, 171681), (1, 171734), (1, 171750), (1, 171811), (1, 172033), (1, 172599), (1, 173065), (1, 173091), (1, 173309), (1, 174024), (1, 174027), (1, 174096), (1, 174511), (1, 174775), (1, 174909), (1, 175065), (1, 175088), (1, 175337), (1, 175503), (1, 175599), (1, 175629), (1, 175716), (1, 175839), (1, 175861), (1, 175996), (1, 176447), (1, 176481), (1, 177272), (1, 177517), (1, 177572), (1, 177746), (1, 177881), (1, 178662), (1, 178898), (1, 178973), (1, 179276), (1, 179725), (1, 179795), (1, 179863), (1, 180459), (1, 180680), (1, 181217), (1, 181344), (1, 181479), (1, 181516), (1, 181755), (1, 182007), (1, 182245), (1, 182383), (1, 182773), (1, 182825), (1, 182906), (1, 183168), (1, 183192), (1, 183504), (1, 184039), (1, 184334), (1, 184490), (1, 184519), (1, 184662), (1, 185273), (1, 185437), (1, 185878), (1, 186245), (1, 186674), (1, 186742), (1, 186816), (1, 186934), (1, 187123), (1, 187547), (1, 187832), (1, 187856), (1, 189051), (1, 189509), (1, 189544), (1, 189861), (1, 190638), (1, 190936), (1, 190937), (1, 190979), (1, 191125), (1, 191347), (1, 191368), (1, 191416), (1, 191834), (1, 192624), (1, 193329), (1, 193474), (1, 194439), (1, 194541), (1, 194598), (1, 194888), (1, 195044), (1, 195086), (1, 195123), (1, 195270), (1, 195503), (1, 195559), (1, 195725), (1, 195848), (1, 195928), (1, 196120), (1, 196130), (1, 196217), (1, 196324), (1, 196360), (1, 196438), (1, 196768), (1, 197199), (1, 197478), (1, 197552), (1, 197852), (1, 199064), (1, 199073), (1, 199165), (1, 199559), (1, 199845), (1, 200421), (1, 200528), (1, 201753), (1, 202130), (1, 202382), (1, 202616), (1, 202797), (1, 202809), (1, 202927), (1, 203016), (1, 203392), (1, 203555), (1, 203863), (1, 203976), (1, 204063), (1, 204131), (1, 204367), (1, 204571), (1, 204709), (1, 204837), (1, 205389), (1, 206229), (1, 206361), (1, 206415), (1, 206425), (1, 206498), (1, 206523), (1, 206563), (1, 208183), (1, 208451), (1, 209327), (1, 209640), (1, 209648), (1, 209769), (1, 209938), (1, 209939), (1, 210229), (1, 210327), (1, 210478), (1, 210500), (1, 211011), (1, 211368), (1, 211372), (1, 211418), (1, 211446), (1, 211597), (1, 211758), (1, 212549), (1, 212919), (1, 213169), (1, 213424), (1, 214043), (1, 214176), (1, 214444), (1, 214579), (1, 215114), (1, 215324), (1, 215401), (1, 215601), (1, 215662), (1, 215682), (1, 216329), (1, 216748), (1, 216921), (1, 217042), (1, 217152), (1, 217168), (1, 217608), (1, 218231), (1, 218701), (1, 218926), (1, 218957), (1, 219044), (1, 220033), (1, 220557), (1, 220806), (1, 221484), (1, 222011), (1, 222403), (1, 222404), (1, 222442), (1, 222473), (1, 222687), (1, 223014), (1, 223547), (1, 223789), (1, 223981), (1, 223995), (1, 224879), (1, 225336), (1, 225610), (1, 226206), (1, 226259), (1, 226367), (1, 226841), (1, 228011), (1, 228097), (1, 228145), (1, 228465), (1, 228731), (1, 228859), (1, 228914), (1, 229057), (1, 229136), (1, 229566), (1, 230147), (1, 230150), (1, 231096), (1, 231146), (1, 232088), (1, 232539), (1, 232596), (1, 232869), (1, 232924), (1, 234011), (1, 234072), (1, 234172), (1, 234306), (1, 234388), (1, 234942), (1, 235207), (1, 235278), (1, 235590), (1, 235724), (1, 236069), (1, 236183), (1, 236994), (1, 237189), (1, 237487), (1, 237729), (1, 237917), (1, 239152), (1, 239161), (1, 239330), (1, 239870), (1, 240900), (1, 241098), (1, 241279), (1, 241644), (1, 242310), (1, 242588), (1, 244367), (1, 244425), (1, 244592), (1, 244900), (1, 245992), (1, 247455), (1, 247467), (1, 247832), (1, 248304), (1, 248577), (1, 248649), (1, 249804), (1, 249809), (1, 249845), (1, 249857), (1, 250213), (1, 250723), (1, 251014), (1, 251209), (1, 251638), (1, 252031), (1, 252175), (1, 252944), (1, 253025), (1, 253091), (1, 253105), (1, 253631), (1, 254125), (1, 254556), (1, 254613), (1, 254953), (1, 255320), (1, 255383), (1, 255689), (1, 255725), (1, 256008), (1, 257041), (1, 257261), (1, 257292), (1, 258032), (1, 258985), (1, 259237), (1, 259523), (1, 259788), (1, 259914), (1, 260304), (1, 261132), (1, 261369), (1, 261902), (1, 262256), (1, 263073), (1, 263239), (1, 263529), (1, 264400), (1, 264488), (1, 264501), (1, 265554), (1, 268141), (1, 268513), (1, 269219), (1, 270032), (1, 271608), (1, 271892), (1, 272011), (1, 273482), (1, 273882), (1, 274027), (1, 274463), (1, 274763), (1, 275111), (1, 275569), (1, 275812), (1, 276551), (1, 276847), (1, 277293), (1, 277912), (1, 277987), (1, 278264), (1, 279985), (1, 280509), (1, 281001), (1, 282758), (1, 282817), (1, 283041), (1, 283904), (1, 284007), (1, 284162), (1, 284935), (1, 285913), (1, 286646), (1, 287345), (1, 287373), (1, 288159), (1, 289407), (1, 291184), (1, 291355), (1, 292496), (1, 292724), (1, 293726), (1, 295857), (1, 296637), (1, 296700), (1, 297071), (1, 297144), (1, 297734), (1, 299161), (1, 299189), (1, 299216), (1, 299549), (1, 299869), (1, 300726), (1, 300856), (1, 302665), (1, 303031), (1, 303052), (1, 303072), (1, 303509), (1, 303838), (1, 305118), (1, 305239), (1, 306605), (1, 306663), (1, 306742), (1, 306902), (1, 308316), (1, 308503), (1, 309547), (1, 309810), (1, 310017), (1, 310821), (1, 311010), (1, 311633), (1, 311656), (1, 312038), (1, 312321), (1, 312457), (1, 312723), (1, 313268), (1, 313797), (1, 314280), (1, 314463), (1, 314929), (1, 315005), (1, 315538), (1, 315641), (1, 315809), (1, 315952), (1, 316130), (1, 316523), (1, 316742), (1, 316785), (1, 318889), (1, 319542), (1, 320017), (1, 320746), (1, 320831), (1, 320846), (1, 321233), (1, 321845), (1, 323507), (1, 323534), (1, 323627), (1, 325463), (1, 326489), (1, 326562), (1, 326604), (1, 327298), (1, 327830), (1, 327935), (1, 328136), (1, 329361), (1, 329401), (1, 329679), (1, 329802), (1, 330698), (1, 331001), (1, 331789), (1, 332042), (1, 332887), (1, 333194), (1, 333269), (1, 334052), (1, 334672), (1, 335010), (1, 335126), (1, 336953), (1, 337482), (1, 337861), (1, 339062), (1, 339274), (1, 340365), (1, 341131), (1, 341332), (1, 341602), (1, 343095), (1, 344070), (1, 345549), (1, 345775), (1, 346369), (1, 346482), (1, 348955), (1, 349815), (1, 350374), (1, 350613), (1, 351318), (1, 353414), (1, 353436), (1, 353611), (1, 353903), (1, 354174), (1, 354584), (1, 354662), (1, 354913), (1, 355476), (1, 356234), (1, 356264), (1, 356924), (1, 357107), (1, 357246), (1, 357695), (1, 357942), (1, 358370), (1, 358660), (1, 358832), (1, 359093), (1, 359115), (1, 359117), (1, 359944), (1, 360192), (1, 360825), (1, 361488), (1, 361628), (1, 362045), (1, 362678), (1, 363458), (1, 365138), (1, 365467), (1, 366295), (1, 366776), (1, 367582), (1, 368094), (1, 369655), (1, 370329), (1, 371710), (1, 371742), (1, 372467), (1, 373803), (1, 373881), (1, 375594), (1, 375913), (1, 376551), (1, 377574), (1, 378022), (1, 378942), (1, 379840), (1, 380510), (1, 383288), (1, 383321), (1, 383372), (1, 383391), (1, 383402), (1, 383435), (1, 384270), (1, 385912), (1, 386123), (1, 387335), (1, 388095), (1, 388334), (1, 389600), (1, 389602), (1, 390300), (1, 390888), (1, 391077), (1, 392568), (1, 392762), (1, 394249), (1, 394335), (1, 394729), (1, 395009), (1, 395084), (1, 395303), (1, 395458), (1, 395785), (1, 395917), (1, 396238), (1, 396358), (1, 396455), (1, 396594), (1, 396770), (1, 397334), (1, 398256), (1, 399331), (1, 400283), (1, 401907), (1, 402358), (1, 402745), (1, 402863), (1, 403293), (1, 403629), (1, 403873), (1, 403993), (1, 404665), (1, 405003), (1, 405145), (1, 405481), (1, 405634), (1, 406120), (1, 406746), (1, 407371), (1, 407957), (1, 408152), (1, 409396), (1, 409441), (1, 409450), (1, 409556), (1, 410219), (1, 410367), (1, 410562), (1, 413300), (1, 413336), (1, 414166), (1, 414308), (1, 414957), (1, 415033), (1, 416013), (1, 416342), (1, 416403), (1, 416593), (1, 416723), (1, 416822), (1, 417968), (1, 418063), (1, 418372), (1, 418574), (1, 419580), (1, 420036), (1, 420228), (1, 420248), (1, 420886), (1, 421673), (1, 421747), (1, 421847), (1, 422196), (1, 422288), (1, 422300), (1, 422563), (1, 422569), (1, 422718), (1, 423168), (1, 423179), (1, 423306), (1, 423534), (1, 423897), (1, 424314), (1, 426288), (1, 426556), (1, 426646), (1, 427128), (1, 429775), (1, 430672), (1, 432009), (1, 432440), (1, 432444), (1, 432484), (1, 432945), (1, 433004), (1, 433619), (1, 434030), (1, 434508), (1, 434715), (1, 435684), (1, 436122), (1, 436207), (1, 437853), (1, 437932), (1, 438667), (1, 442235), (1, 443080), (1, 443234), (1, 443361), (1, 444973), (1, 445765), (1, 446017), (1, 446024), (1, 446415), (1, 447934), (1, 448426), (1, 448796), (1, 448817), (1, 449917), (1, 451129), (1, 453606), (1, 454335), (1, 455874), (1, 455939), (2, 27311), (2, 72466), (2, 106375), (2, 113517), (2, 119333), (2, 144204), (2, 147362), (2, 164883), (2, 174859), (2, 263490), (2, 269152), (2, 349931), (2, 380767), (3, 359985), (3, 433454), (4, 16695))
    


```python
#35376
def snowball_sampling(g, center, max_depth=1, current_depth=0, taboo_list=[], subsample=nx.Graph()):
    # if we have reached the depth limit of the search, bomb out.
    print(center, current_depth, max_depth, taboo_list)
    if current_depth==max_depth:
        print('out of depth')
        return subsample
    if center in taboo_list:
        print('taboo')
        return subsample #we've been here before
    else:
        taboo_list.append(center) # we shall never return
    #read_lj_friends(g, center)
    for node in g.neighbors(center):
        subsample.add_node(center)
        subsample.add_edge(center,node)
        snowball_sampling(g, node, current_depth=current_depth+1, max_depth=max_depth, taboo_list=taboo_list, subsample=subsample)
    return subsample
```


```python
#sample = snowball_sampling(g, 35376, max_depth=2, taboo_list=[])
#nx.write_pajek(sample, "test_sample_35376_2.net")
```

![png](/img/2016/05/76531_2_ego.png)
